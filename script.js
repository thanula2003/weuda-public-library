
const translations = {
    si: {
        council: "මාවතගම ප්‍රාදේශීය සභාව",
        libraryName: "වෑඋඩ මහජන පුස්තකාලය",
        libraryNameSub: "WEUDA PUBLIC LIBRARY",
        visionTitle: "දැක්ම",
        visionPhrase: '"විශ්ව දැනුමට අත්වැලක්"',
        missionTitle: "මෙහෙවර",
        missionText: "පාඨකයින් වෙත දැනුම ලබාදීමත්, එමඟින් දැනුමෙන් කුසලතාවයෙන් හා යහපත් ආකල්ප වලින් පිරිපුන් සමාජයක් නිර්මාණය කිරීමට දායක වීමත්, ඉන් තිරසාර ආර්ථික හා මානව සංවර්ධනයක් ඇති කිරීම හා ජාතික සංවර්ධනයට උපරිම දායකත්වයක් ලබා දීම.",
        historyTitle: "පුස්තකාල ඉතිහාසයෙන් බිඳක්",
        historyParagraphs: [
            "1973 වසරේදී එවකට රජයේ සංකල්පයක් වූ \"ප්‍රජා සතිය\" වැඩසටහන යටතේ ආරම්භ වූ වෑඋඩ මහජන පුස්තකාලය, මුලින්ම ස්ථාපනය කර ඇත්තේ පරගහදෙනිය නගරයට ආසන්නව වෑඋඩ ගම්සභා කාර්යාලය අසල ගොඩනැගිල්ලකය. මෙහි ප්‍රථම පුස්තකාල භාරකරු ලෙස කටයුතු කර ඇත්තේ වෑඋඩ ප්‍රදේශයේ උපත ලද ඩබ්.එස්. කුලරත්න මහතා බවට තොරතුරු හෙළිවේ.",
            "ග්‍රන්ථ 230 කින් ආරම්භ වූ මෙම පුස්තකාලයේ ආරම්භක සාමාජිකයා වන්නේ එන්.එම්.ටී.බී. හෙට්ටිපොල මහතාය.",
            "1978-1979 කාල වකවානුවේදී එවකට පාර්ලිමේන්තු මන්ත්‍රීවරයකුව සිටි ජී.එම්. ප්‍රේමචන්ද්‍ර මහතා, වෑකන්ද විහාරයට යාබදව ඇති වත්මන් ස්ථානයට පුස්තකාලය ගෙනවිත් ඇත. 1940 ජනවාරි 12 වන දින එම ගොඩනැගිල්ල හා ඊට අයත් භූමිය පුස්තකාලය සඳහා පරිත්‍යාග කර ඇත්තේ වෑඋඩ යටිවිල්ල ප්‍රදේශයේ දානපතියකු වූ එච්.ඒ. සිරිසේන මහතාය.",
            "1978 අග භාගයේදී මෙහි පුස්තකාලයාධිපති ලෙස කොළඹ කෙසෙල්වත්ත ප්‍රදේශයේ සිට පැමිණි වයි. ප්‍රේමදාස මහතා කටයුතු කර ඇත. ඉන් පසුව ගලගෙදර ප්‍රදේශයේ සිට පැමිණි කේ.ජී. නන්දාවතී මහත්මිය, දිවුලපිටිය ප්‍රදේශයේ සිට පැමිණි ආර්.පී. තිලකාවතී මහත්මිය, වෑඋඩ අකාඩේ පදිංචිව සිටි කුමාරි මාදාංගනී අතපත්තු මහත්මිය හා මාවතගම හතේ කණුවේ පදිංචිව සිටි ශීලා ප්‍රනාන්දු මහත්මිය යන අය මෙම පුස්තකාලයේ පුස්තකාලයාධිපතීන් ලෙස කටයුතු කර ඇත.",
            "2013 වර්ෂයේ අප්‍රේල් මාසයේ සිට මේ දක්වා මෙම පුස්තකාලයේ පුස්තකාලයාධිපති ලෙස කටයුතු කරන්නේ කේ.ආර්. චන්ද්‍රාවතී මහත්මියයි.",
            "කාලයක් තිස්සේ විවිධ වෙනස්කම්වලට භාජනය වෙමින් අද වන විට නවීන පහසුකම්වලින් යුතු නව පුස්තකාල ගොඩනැගිල්ලක් හිමිව ඇත. මෙම ගොඩනැගිල්ල ඉදිකිරීම සඳහා පැරණි ගොඩනැගිල්ල මුළුමනින්ම කඩා ඉවත් කර නව ගොඩනැගිල්ලේ ඉදිකිරීම් ආරම්භ කර ඇත්තේ සනත් මීගොල්ල මහතා මාවතගම ප්‍රාදේශීය සභාවේ සභාපති ධූරය හෙබවූ කාලයේය. දෙමහල් ගොඩනැගිල්ලේ බිම් මහල 2011 දෙසැම්බර් 10 වන දින, එවකට සභාපති ධූරය හොබවූ උපුල් ප්‍රියන්ත පෙරේරා මහතා යටතේ පාඨක අයිතියට පත් කරන ලදී.",
            "2017 වර්ෂයේදී මාවතගම ප්‍රාදේශීය සභාවේ ලේකම් නිශාන්ත කුමාර මහතා විසින් ප්‍රාදේශීය සභාවේ පොදු අරමුදලින් ඉහළ මහලේ වැඩ නිමා කරවා, 2018 ජනවාරි 23 වන දින පාඨක අයිතියට පත් කරන ලදී.",
            "2025 දෙසැම්බර් 31 වන දින වන විට ලේඛනගත ග්‍රන්ථ 15,293 කුත්, ලේඛනගත සාමාජිකයන් 2,638 කුත් සහිත වෑඋඩ මහජන පුස්තකාලය, ප්‍රදේශයේ ජනතාවගේ දැනුම් අවශ්‍යතා සපුරාලන ප්‍රධාන තොරතුරු මධ්‍යස්ථානයක් බවට පත්ව ඇත."
        ],
        historyAuthor: "කේ.ආර්. චන්ද්‍රාවතී | පුස්තකාලයාධිපති | වෑඋඩ මහජන පුස්තකාලය",
        booksTitle: "අපේ පොත් කිහිපයක්",
        book1: "පොත් කවරය 1",
        book2: "පොත් කවරය 2",
        book3: "පොත් කවරය 3",
        book4: "පොත් කවරය 4",
        book5: "පොත් කවරය 5",
        book6: "පොත් කවරය 6",
        galleryTitle: "ඡායාරූප ගැලරිය",
        photo1: "රූපය 1",
        photo2: "රූපය 2",
        photo3: "රූපය 3",
        photo4: "රූපය 4",
        photo5: "රූපය 5",
        contactTitle: "අපව අමතන්න",
        address: "වෑඋඩ මහජන පුස්තකාලය, වෑඋඩ, මාවතගම, කුරුණෑගල, ශ්‍රී ලංකාව",
        phone: "දුරකථනය: +94 372 299 821 (මාවතගම ප්‍රාදේශීය සභාව)",
        email: "විද්‍යුත් තැපෑල: libraryweuda@gmail.com",
        whatsappBtn: "WhatsApp මගින් කතා කරන්න",
        footer: "Developed by ElevenX"
    },
    en: {
        council: "Mawathagama Pradeshiya Sabha",
        libraryName: "Weuda Public Library",
        libraryNameSub: "WEUDA PUBLIC LIBRARY",
        visionTitle: "Vision",
        visionPhrase: '"A Bridge to Universal Knowledge"',
        missionTitle: "Mission",
        missionText: "To provide knowledge to readers, thereby contributing to the creation of a society enriched with knowledge, skills, and positive attitudes, fostering sustainable economic and human development, and making the utmost contribution to national development.",
        historyTitle: "A Glimpse of Library History",
        historyParagraphs: [
            "The Weuda Public Library was established in 1973 under the government's \"Community Week\" programme. It was initially located near the Paragahadeniya town, in a building adjacent to the Weuda Village Council office. Records reveal that Mr. W.S. Kularatne, a native of the Weuda area, served as its first librarian.",
            "The library began with a collection of 230 books, and Mr. N.M.T.B. Hettipola was its founding member.",
            "During 1978–1979, through the efforts of then Member of Parliament Mr. G.M. Premachandra, the library was relocated to its present site adjacent to the Waekanda Temple. The building and its land had been donated for the library on 12 January 1940 by Mr. H.A. Sirisena, a philanthropist from the Weuda Yativilla area.",
            "In late 1978, Mr. Y. Premadasa from the Keselwatta area of Colombo began serving as librarian. He was followed by Ms. K.G. Nandawathi from Galagedara, Ms. R.P. Thilakawathi from Divulapitiya, Ms. Kumari Madangani Athapatthu from Weuda Akade, and Ms. Sheela Fernando from Mawathagama Hate Kanuve, each of whom served as librarian in turn.",
            "From April 2013 to the present, Ms. K.R. Chandrawathi has been serving as the librarian of this library.",
            "Having undergone many changes over the years, the library today occupies a new building equipped with modern facilities. Construction of the new building — which required the complete demolition of the old one — began during the tenure of Mr. Sanath Meegolla as Chairman of the Mawathagama Pradeshiya Sabha. The ground floor of the two-storey building was opened to readers on 10 December 2011, under the chairmanship of Mr. Upul Priyantha Perera.",
            "In 2017, the upper floor was completed using the general funds of the Mawathagama Pradeshiya Sabha under the direction of its Secretary, Mr. Nishantha Kumara, and was opened to readers on 23 January 2018.",
            "As of 31 December 2025, the Weuda Public Library holds a registered collection of 15,293 books and 2,638 registered members, and has become a primary information centre serving the knowledge needs of the local community."
        ],
        historyAuthor: "K.R. Chandrawathi | Librarian | Weuda Public Library",
        booksTitle: "Some of Our Books",
        book1: "Book Cover 1",
        book2: "Book Cover 2",
        book3: "Book Cover 3",
        book4: "Book Cover 4",
        book5: "Book Cover 5",
        book6: "Book Cover 6",
        galleryTitle: "Photo Gallery",
        photo1: "Photo 1",
        photo2: "Photo 2",
        photo3: "Photo 3",
        photo4: "Photo 4",
        photo5: "Photo 5",
        contactTitle: "Contact Us",
        address: "Weuda Public Library, Weuda, Mawathagama, Kurunegala, Sri Lanka",
        phone: "Phone: +94 372 299 821 (Mawathagama Pradeshiya Sabha)",
        email: "Email: libraryweuda@gmail.com",
        whatsappBtn: "Chat via WhatsApp",
        footer: "Developed by ElevenX"
    },
    ta: {
        council: "மாவதகம பிரதேச சபை",
        libraryName: "வேவுட பொது நூலகம்",
        libraryNameSub: "WEUDA PUBLIC LIBRARY",
        visionTitle: "தொலைநோக்கு",
        visionPhrase: '"உலக அறிவுக்கு ஒரு பாலம்"',
        missionTitle: "நோக்கம்",
        missionText: "வாசகர்களுக்கு அறிவை வழங்குவதும், அதன் மூலம் அறிவு, திறன் மற்றும் நேர்மறையான மனோபாவங்களால் நிறைந்த சமூகத்தை உருவாக்குவதற்கு பங்களிப்பதும், நிலையான பொருளாதார மற்றும் மனித வளர்ச்சியை மேம்படுத்துவதும், தேசிய வளர்ச்சிக்கு உச்சபட்ச பங்களிப்பை வழங்குவதும் ஆகும்.",
        historyTitle: "நூலக வரலாற்றின் ஒரு பகுதி",
        historyParagraphs: [
            "1973 ஆம் ஆண்டு அரசாங்கத்தின் \"சமூக வாரம்\" திட்டத்தின் கீழ் ஆரம்பிக்கப்பட்ட வேவுட பொது நூலகம், முதலில் பரகஹதெனிய நகருக்கு அருகில் வேவுட கிராம சபை அலுவலகத்திற்கு அருகிலுள்ள கட்டிடத்தில் நிறுவப்பட்டது. வேவுட பகுதியைப் பிறப்பிடமாகக் கொண்ட திரு. டபிள்யூ.எஸ். குலரத்ன இதன் முதல் நூலகப் பொறுப்பாளராகப் பணியாற்றினார் என்று தகவல்கள் தெரிவிக்கின்றன.",
            "230 நூல்களுடன் ஆரம்பித்த இந்த நூலகத்தின் நிறுவன உறுப்பினர் திரு. என்.எம்.டி.பி. ஹெட்டிபொல ஆவார்.",
            "1978–1979 காலகட்டத்தில் அன்றைய நாடாளுமன்ற உறுப்பினர் திரு. ஜி.எம். பிரேமச்சந்திரவின் முயற்சியால், நூலகம் வேகந்த விகாரைக்கு அருகிலுள்ள தற்போதைய இடத்திற்கு மாற்றப்பட்டது. அந்த கட்டிடமும் அதற்குரிய நிலமும் 1940 ஜனவரி 12 அன்று வேவுட யட்டிவில்லா பகுதியைச் சேர்ந்த வள்ளல் திரு. எச்.ஏ. சிரிசேனவால் நூலகத்திற்காக தானமாக வழங்கப்பட்டது.",
            "1978 இன் பிற்பகுதியில் கொழும்பு கெசெல்வத்தை பகுதியைச் சேர்ந்த திரு. ஒய். பிரேமதாச நூலகராகப் பணியாற்றினார். அதைத் தொடர்ந்து கலகெதர பகுதியிலிருந்து வந்த திருமதி கே.ஜி. நந்தாவதி, திவுலபிட்டிய பகுதியிலிருந்து வந்த திருமதி ஆர்.பி. திலகாவதி, வேவுட அகாடேயில் வசித்த திருமதி குமாரி மாதங்கணி அதபத்து மற்றும் மாவதகம ஹதே கணுவேயில் வசித்த திருமதி சீலா பெர்னாண்டோ ஆகியோர் முறையே நூலகர்களாகப் பணியாற்றினர்.",
            "2013 ஏப்ரல் மாதம் முதல் இன்று வரை திருமதி கே.ஆர். சந்திராவதி இந்த நூலகத்தின் நூலகராகப் பணியாற்றி வருகிறார்.",
            "பல ஆண்டுகளாக பல்வேறு மாற்றங்களுக்கு உட்பட்டு, இன்று நூலகம் நவீன வசதிகளுடன் கூடிய புதிய கட்டிடத்தில் அமைந்துள்ளது. பழைய கட்டிடத்தை முழுமையாக இடித்துப் புதிய கட்டிடத்தின் கட்டுமானம் ஆரம்பிக்கப்பட்டது திரு. சனத் மீகொல்ல மாவதகம பிரதேச சபையின் தலைவர் பதவியை வகித்த காலத்தில். இரு மாடி கட்டிடத்தின் தரைத்தளம் 2011 டிசம்பர் 10 அன்று, அக்காலத்தில் தலைவர் பதவியை வகித்த திரு. உபுல் பிரியந்த பெரேராவின் கீழ் வாசகர்களுக்காகத் திறக்கப்பட்டது.",
            "2017 ஆம் ஆண்டு மாவதகம பிரதேச சபையின் செயலாளர் திரு. நிஷாந்த குமாரவால் பிரதேச சபையின் பொது நிதியிலிருந்து மேல் தளத்தின் பணிகள் நிறைவு செய்யப்பட்டு, 2018 ஜனவரி 23 அன்று வாசகர்களுக்காகத் திறக்கப்பட்டது.",
            "2025 டிசம்பர் 31 ஆம் தேதி நிலவரப்படி, 15,293 பதிவு செய்யப்பட்ட நூல்களும் 2,638 பதிவு செய்யப்பட்ட உறுப்பினர்களும் கொண்ட வேவுட பொது நூலகம், இப்பகுதி மக்களின் அறிவுத் தேவைகளைப் பூர்த்தி செய்யும் முதன்மையான தகவல் மையமாகத் திகழ்கிறது."
        ],
        historyAuthor: "கே.ஆர். சந்திராவதி | நூலகாளர் | வேவுட பொது நூலகம்",
        booksTitle: "எங்கள் சில புத்தகங்கள்",
        book1: "புத்தக அட்டை 1",
        book2: "புத்தக அட்டை 2",
        book3: "புத்தக அட்டை 3",
        book4: "புத்தக அட்டை 4",
        book5: "புத்தக அட்டை 5",
        book6: "புத்தக அட்டை 6",
        galleryTitle: "படக் கூடம்",
        photo1: "படம் 1",
        photo2: "படம் 2",
        photo3: "படம் 3",
        photo4: "படம் 4",
        photo5: "படம் 5",
        contactTitle: "எங்களை தொடர்பு கொள்ளுங்கள்",
        address: "வேவுட பொது நூலகம், வேவுட, மாவதகம, குருணாகல், இலங்கை",
        phone: "தொலைபேசி: +94 372 299 821 (மாவதகம பிரதேச சபை)",
        email: "மின்னஞ்சல்: libraryweuda@gmail.com",
        whatsappBtn: "WhatsApp மூலம் தொடர்பு கொள்ளுங்கள்",
        footer: "Developed by ElevenX"
    }
};

const booksPanel = document.querySelector("#books-panel");
const imgPanel = document.querySelector("#img-panel");



function setLang(lang) {
    const t = translations[lang];
    document.querySelectorAll('[data-key]').forEach(el => {
        const key = el.getAttribute('data-key');
        if (t[key]) el.textContent = t[key];
    });

    // Render history paragraphs
    const historyDiv = document.getElementById('history-paragraphs');
    if (historyDiv && t.historyParagraphs) {
        historyDiv.innerHTML = t.historyParagraphs
            .map(p => `<p style="margin-bottom:1.5rem;">${p}</p>`)
            .join('');
    }

    // Update active button
    ['si', 'en', 'ta'].forEach(l => {
        document.getElementById('btn-' + l).classList.remove('active');
    });
    document.getElementById('btn-' + lang).classList.add('active');

    document.documentElement.lang = lang;
}

// Initialize with Sinhala
setLang('si');

// generate div (books)
function planGenerater(parent, count, path, extension, alt, cname) {
parent.innerHTML = "";

for (let i = 1; i <= count; i++) {
const div = document.createElement("div");
div.className = `item-card ${cname}`;

const img = document.createElement("img");
img.src = `${path}${i}.${extension}`;
img.alt = `${alt} ${i}`;

// remove card if image missing
img.onerror = () => {
    console.warn("Missing:", img.src);
    div.remove();
};

div.appendChild(img);
parent.appendChild(div);
}
}

// books
planGenerater(
booksPanel,
14,
"./img/books_img/book",
"jpg",
"Book",
"book-card"
);


// cover images
for (let i = 1; i <= 21; i++) {
const div = document.createElement("div");
div.className = "item-card img-card";

const img = document.createElement("img");
img.src = `./img/cover_img/img${i}.jpeg`;
img.alt = `Photo ${i}`;

// remove if missing
img.onerror = () => {
console.warn("Missing:", img.src);
div.remove();
};

div.appendChild(img);
imgPanel.appendChild(div);
}